if (field.name.toLowerCase() === 'measure') {
    const allowedValues = ['Raw', 'Std'].filter(m => 
      (m === 'Raw' && filteredEntries.some(e => e.is_raw_available)) ||
      (m === 'Std' && filteredEntries.some(e => e.is_std_available))
    );
    return allowedValues.filter(opt => opt.toLowerCase().includes(search) && !field.value.includes(opt));
  }
